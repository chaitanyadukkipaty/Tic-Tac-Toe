(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),u=(n(67),n(31)),i=n(1),l=n(11),s=n.n(l),m=n(34),p=n(17),f=n(7),d=(n(69),{background:"lightblue",border:"2px solid darkblue",fontSize:"30px",fontWeight:"800",cursor:"pointer",outline:"none"}),b=function(e){var t=e.onClick,n=e.value;return r.a.createElement("button",{style:d,onClick:t},n)},v={border:"4px solid darkblue",borderRadius:"10px",width:"250px",height:"250px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)"},h=function(e){var t=e.squares,n=e.onClick;return r.a.createElement("div",{style:v},t.map((function(e,t){return r.a.createElement(b,{key:t,value:e,onClick:function(){return n(t)}})})))};var E=n(60),O=n.n(E),g=n(18),k=n.n(g),j=n(15),x=(n(118),n(14)),y=O()(x.a),w={margin:"20px auto",width:"220px"};var S=function(){var e=Object(i.f)().pathname.split("/"),t=e.pop(),n=e.pop(),o=Object(a.useState)(Array(9).fill(null)),c=Object(f.a)(o,2),u=c[0],l=c[1],d=Object(a.useState)(!1),b=Object(f.a)(d,2),v=b[0],E=b[1],O=Object(a.useState)(),g=Object(f.a)(O,2),S=g[0],C=g[1],N=Object(a.useState)(100),W=Object(f.a)(N,2),I=W[0],B=W[1],D=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(f.a)(t[n],3),r=a[0],o=a[1],c=a[2];if(e[r]&&e[r]===e[o]&&e[r]===e[c])return e[r]}return null}(u),P=Object(a.useState)(""),R=Object(f.a)(P,2),T=R[0],Y=R[1],J=Object(a.useState)(!1),q=Object(f.a)(J,2),F=q[0],G=q[1],M=function(){var e=Object(p.a)(s.a.mark((function e(a){var r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(m.a)(u),!D&&!r[a]){e.next=3;break}return e.abrupt("return");case 3:if(!v){e.next=11;break}return r[a]=T,o={roomId:n,playerId:t,value:a,board:r},e.next=8,k.a.post("".concat(x.a,"/symbolPlaced"),o);case 8:c=e.sent,c.data.status&&E(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(p.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={roomId:n,playerId:t,value:Number(S),board:u},!(I>=Number(S))){e.next=9;break}return e.next=4,k.a.post("".concat(x.a,"/bid"),a);case 4:r=e.sent,r.data.status&&G((function(e){return!e})),e.next=10;break;case 9:j.b.error("You don't have enought Points");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y.emit("joinRoom",{roomId:n,playerId:t}),y.on("gameState",(function(e){var n=e.bid,a=e.bidWinner,r=e.move;"DONE"===n.status&&a===t&&r===t?(E(!0),console.log("gameState",e),j.b.dark("Your Turn")):"DONE"===n.status&&a!==t&&r!==t&&j.b.dark("You Lost the Bid"),0===n[t]&&"DONE"===n.status&&G((function(e){return!e})),B(e[t])})),y.on("Char",(function(e){""===T&&Y(e)})),y.on("Reload",(function(e){var n=e.bid,a=e.bidWinner,r=e.move;"DONE"===n.status&&a===t&&r===t&&(E(!0),j.b.dark("Your Turn")),0!==n[t]&&(G((function(e){return!e})),C(n[t])),l(e.board),B(e[t])}))}),[]),Object(a.useEffect)((function(){y.on("Move",(function(e){var n=Object(m.a)(u),a=e.game,r=e.bidWinner;if(!D&&!n[a]){var o="X"===T?"O":"X";n[a]=r===t?T:o,l(n)}}))}),[T,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null),r.a.createElement("div",{className:"Game-Center"},r.a.createElement(h,{squares:u,onClick:M}),r.a.createElement("div",{style:w},r.a.createElement("p",null,"Points left: "+I),r.a.createElement("input",{type:"text",value:S,onChange:function(e){return C(e.target.value)}}),r.a.createElement("button",{onClick:X,disabled:F},"Bid"),r.a.createElement("p",null,F&&"Waiting for Other Player to Bid"),r.a.createElement("p",null,D&&"Winner: "+D))))};n(123);var C=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],o=t[1];function c(){return(c=Object(p.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post(x.a);case 2:t=e.sent,a=t.data,r="/room/".concat(a.room,"/").concat(n),console.log(r),window.location.href=r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Home"},r.a.createElement("h1",null,"Welcome to my Game"),r.a.createElement("input",{type:"text",value:n,onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{onClick:function(){return function(){return c.apply(this,arguments)}()}},"Start")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(C,null)),r.a.createElement(i.a,{path:"/room"},r.a.createElement(S,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},14:function(e){e.exports=JSON.parse('{"a":"http://159.65.145.166:8000"}')},62:function(e,t,n){e.exports=n(124)},67:function(e,t,n){},69:function(e,t,n){},99:function(e,t){}},[[62,1,2]]]);
//# sourceMappingURL=main.db5c2b5f.chunk.js.map