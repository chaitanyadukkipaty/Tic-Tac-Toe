(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{113:function(e,t){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=(a(81),a(27)),i=a(5),s=a(7),u=a.n(s),m=a(42),d=a(14),f=a(11),p=(a(83),{background:"lightblue",border:"2px solid darkblue",fontSize:"30px",fontWeight:"800",cursor:"pointer",outline:"none"}),b=function(e){var t=e.onClick,a=e.value;return r.a.createElement("button",{style:p,onClick:t},a)},E={border:"4px solid darkblue",borderRadius:"10px",width:"250px",height:"250px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)"},h=function(e){var t=e.squares,a=e.onClick;return r.a.createElement("div",{style:E},t.map((function(e,t){return r.a.createElement(b,{key:t,value:e,onClick:function(){return a(t)}})})))};var v=a(29),y=a.n(v),j=a(20),g=a.n(j),x=a(19),O=(a(132),a(15)),N=a(146),w=a(152),k=a(153),T=y()(O.a),I={margin:"20px auto",width:"220px"};var S=function(){var e=Object(n.useRef)(),t=Object(i.f)().pathname.split("/"),a=t.pop(),c=t.pop(),l=Object(n.useState)(Array(9).fill(null)),o=Object(f.a)(l,2),s=o[0],p=o[1],b=Object(n.useState)(!1),E=Object(f.a)(b,2),v=E[0],y=E[1],j=Object(n.useState)(),S=Object(f.a)(j,2),C=(S[0],S[1]),B=Object(n.useState)(100),P=Object(f.a)(B,2),R=P[0],W=P[1],D=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<t.length;a++){var n=Object(f.a)(t[a],3),r=n[0],c=n[1],l=n[2];if(e[r]&&e[r]===e[c]&&e[r]===e[l])return e[r]}return null}(s),A=Object(n.useState)(""),J=Object(f.a)(A,2),Y=J[0],q=J[1],F=Object(n.useState)(!1),G=Object(f.a)(F,2),U=G[0],X=G[1],M=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(m.a)(s),!D&&!n[t]){e.next=3;break}return e.abrupt("return");case 3:if(!v){e.next=11;break}return n[t]=Y,r={roomId:c,playerId:a,value:t,board:n},e.next=8,g.a.post("".concat(O.a,"/symbolPlaced"),r);case 8:l=e.sent,l.data.status&&y(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var t=Object(d.a)(u.a.mark((function t(){var n,r,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.current.value,r={roomId:c,playerId:a,value:Number(n),board:s},!(R>=Number(n))){t.next=10;break}return t.next=5,g.a.post("".concat(O.a,"/bid"),r);case 5:l=t.sent,l.data.status&&X((function(e){return!e})),t.next=11;break;case 10:x.b.error("You don't have enought Points");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){T.emit("joinRoom",{roomId:c,playerId:a}),T.on("gameState",(function(t){var n=t.bid,r=t.bidWinner,c=t.move;"DRAW"===n.status?(X((function(e){return!0})),x.b.dark("It's a Draw")):"DONE"===n.status&&null===r&&null===c?x.b.dark("Bids are equal"):"DONE"===n.status&&r===a&&c===a?(e.current.value="",y(!0),x.b.dark("Your Turn")):"DONE"===n.status&&r!==a&&c!==a&&(e.current.value="",x.b.dark("You Lost the Bid")),0===n[a]&&"DONE"===n.status&&X((function(e){return!e})),W(t[a])})),T.on("Char",(function(e){""===Y&&q(e)})),T.on("Reload",(function(e){var t=e.bid,n=e.bidWinner,r=e.move;"DONE"===t.status&&n===a&&r===a&&(y(!0),x.b.dark("Your Turn")),0!==t[a]&&(X((function(e){return!e})),C(t[a])),Array.isArray(e.board)&&e.board.length&&p(e.board),W(e[a])}))}),[]),Object(n.useEffect)((function(){T.on("Move",(function(e){var t=Object(m.a)(s),n=e.game,r=e.bidWinner;if(!D&&!t[n]){var c="X"===Y?"O":"X";t[n]=r===a?Y:c,p(t)}}))}),[Y,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement(x.a,null),r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game-Center"},r.a.createElement(h,{squares:s,onClick:M}),r.a.createElement("p",{className:"font"},"Points left: "+R)),r.a.createElement("div",{style:I,className:"game-state"},r.a.createElement(N.a,{className:"mb-3 input"},r.a.createElement(N.a.Prepend,null,r.a.createElement(N.a.Text,{id:"basic-addon1"},"$")),r.a.createElement(w.a,{ref:e,placeholder:"Bid","aria-label":"Bid","aria-describedby":"basic-addon1"})),r.a.createElement(k.a,{className:"button",onClick:$,disabled:U},"Bid"),r.a.createElement("p",{className:"font"},U&&"Waiting for Other Player to Bid"),r.a.createElement("p",{className:"font"},D&&"Winner: "+D)))))},C=(a(140),a(141),a(147)),B=a(150),P=a(148),R=a(151);var W=function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(O.a);case 2:t=e.sent,a=t.data,n="/waitingroom/".concat(a.room),console.log(n),window.location.href=n;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-container"},r.a.createElement(C.a,{fluid:!0},r.a.createElement(B.a,{className:"nav-color",expand:"lg",variant:"dark"},r.a.createElement(B.a.Brand,null,"Tic-Tac-Toe")),r.a.createElement(P.a,{md:{span:6,offset:3},className:"d-flex flex-column justify-content-around fill "},r.a.createElement("div",{className:"p-2"},r.a.createElement(R.a,{className:"card"},r.a.createElement(R.a.Title,{className:"card-title"},"Rules"),r.a.createElement(R.a.Body,{className:"text-justify"},r.a.createElement("ul",null,r.a.createElement("li",null,"Unlike Regular Tic Tac Toe 'X' doesnt always start first."),r.a.createElement("li",null,"Each player begins with 100 points. Players can use these points to place bids"),r.a.createElement("li",null,"Turns are decided by the bids placed by the players. The Player with bigger bid wins round and can freely place his/her move"),r.a.createElement("li",null,"If both players reach 0 points before winning then the game is considered a draw"),r.a.createElement("li",null,"If both players bid the same points then its considered draw and they have to bid again"))))),r.a.createElement("div",{className:" d-flex  justify-content-center p-2 "},r.a.createElement(k.a,{className:"button",onClick:function(){return function(){return e.apply(this,arguments)}()}},"Start"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(142);var D=a(149),A=a(73),J=a.n(A),Y=y()(O.a);var q=function(){var e=Object(n.useRef)(),t=Object(n.useState)([]),a=Object(f.a)(t,2),c=a[0],l=a[1],o=Object(i.f)().pathname.split("/").pop(),s=Object(n.useState)(!1),m=Object(f.a)(s,2),p=m[0],b=m[1],E=Object(n.useState)(!0),h=Object(f.a)(E,2),v=h[0],y=h[1];function j(){return(j=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.current.value,n={roomId:o,playerId:a},Y.emit("joinRoom",n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.current.value,n="/room/".concat(o,"/").concat(a),console.log(n),window.location.href=n;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={roomId:o},e.next=3,g.a.post("".concat(O.a,"/getPlayers"),t);case 3:a=e.sent,n=a.data,l((function(e){return n})),2===n.length&&(y((function(e){return!e})),b((function(e){return!e})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Y.on("joined",(function(e){l(e),2===e.length&&(y((function(e){return!e})),b((function(e){return!e})))})),function(){e.apply(this,arguments)}()}),[]);var T=function(e){var t=e.username;return r.a.createElement(R.a,{className:"player-card"},r.a.createElement(R.a.Img,{variant:"top",src:J.a}),r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Title,null,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement(D.a,{className:"fill-width"},r.a.createElement(P.a,{md:6,className:"d-flex flex-column justify-content-between fill-height"},0===c.length&&r.a.createElement("div",{className:"font text-center"},"Waiting for players to join:"," "),c.length>0&&r.a.createElement("div",{className:"font text-center"},"Players in the Game : "),r.a.createElement(D.a,{className:" d-flex  justify-content-center p-4 "},c.map((function(e,t){return r.a.createElement(P.a,{md:5,xs:6,className:"p-2"},r.a.createElement(T,{key:t,username:e.playerId}))})))),r.a.createElement(P.a,{className:"p-4 d-flex flex-column justify-content-center",md:6},r.a.createElement(N.a,{className:" input"},r.a.createElement(N.a.Prepend,null,r.a.createElement(N.a.Text,{id:"basic-addon1"},"@")),r.a.createElement(w.a,{ref:e,placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1"})),r.a.createElement(D.a,null,p?r.a.createElement(P.a,{className:" d-flex  justify-content-center p-4 "},r.a.createElement(k.a,{className:"button",onClick:function(){return function(){return x.apply(this,arguments)}()},disabled:v},"Start")):r.a.createElement(P.a,{className:" d-flex  justify-content-center p-4 "},r.a.createElement(k.a,{className:"button",onClick:function(){return function(){return j.apply(this,arguments)}()},disabled:p},"Join")))))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(W,null)),r.a.createElement(i.a,{path:"/room"},r.a.createElement(S,null)),r.a.createElement(i.a,{path:"/waitingroom"},r.a.createElement(q,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},15:function(e){e.exports=JSON.parse('{"a":"http://159.65.145.166:8000"}')},73:function(e,t,a){e.exports=a.p+"static/media/avatar.3f28b642.png"},76:function(e,t,a){e.exports=a(143)},81:function(e,t,a){},83:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.72dc640b.chunk.js.map