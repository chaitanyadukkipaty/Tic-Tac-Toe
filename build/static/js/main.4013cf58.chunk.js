(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{112:function(e,a){},140:function(e,a,t){},141:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(14),l=t.n(c),o=(t(80),t(38)),i=t(4),s=t(15),u=t.n(s),d=t(41),m=t(22),b=t(12),p=(t(82),{background:"lightblue",border:"2px solid darkblue",fontSize:"30px",fontWeight:"800",cursor:"pointer",outline:"none"}),f=function(e){var a=e.onClick,t=e.value;return r.a.createElement("button",{style:p,onClick:a},t)},E={border:"4px solid darkblue",borderRadius:"10px",width:"250px",height:"250px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)"},h=function(e){var a=e.squares,t=e.onClick;return r.a.createElement("div",{style:E},a.map((function(e,a){return r.a.createElement(f,{key:a,value:e,onClick:function(){return t(a)}})})))};var v=t(68),g=t.n(v),y=t(23),O=t.n(y),k=t(17),N=(t(131),t(20)),w=t(144),j=t(147),x=t(148),T=g()(N.a),S={margin:"20px auto",width:"220px"};var B=function(){var e=Object(n.useRef)(),a=Object(i.f)().pathname.split("/"),t=a.pop(),c=a.pop(),l=Object(n.useState)(Array(9).fill(null)),o=Object(b.a)(l,2),s=o[0],p=o[1],f=Object(n.useState)(!1),E=Object(b.a)(f,2),v=E[0],g=E[1],y=Object(n.useState)(),B=Object(b.a)(y,2),C=(B[0],B[1]),I=Object(n.useState)(100),R=Object(b.a)(I,2),W=R[0],P=R[1],D=function(e){for(var a=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],t=0;t<a.length;t++){var n=Object(b.a)(a[t],3),r=n[0],c=n[1],l=n[2];if(e[r]&&e[r]===e[c]&&e[r]===e[l])return e[r]}return null}(s),Y=Object(n.useState)(""),q=Object(b.a)(Y,2),J=q[0],U=q[1],X=Object(n.useState)(!1),A=Object(b.a)(X,2),F=A[0],G=A[1],M=function(){var e=Object(m.a)(u.a.mark((function e(a){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(d.a)(s),!D&&!n[a]){e.next=3;break}return e.abrupt("return");case 3:if(!v){e.next=11;break}return n[a]=J,r={roomId:c,playerId:t,value:a,board:n},e.next=8,O.a.post("".concat(N.a,"/symbolPlaced"),r);case 8:l=e.sent,l.data.status&&g(!1);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),$=function(){var a=Object(m.a)(u.a.mark((function a(){var n,r,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.current.value,r={roomId:c,playerId:t,value:Number(n),board:s},!(W>=Number(n))){a.next=10;break}return a.next=5,O.a.post("".concat(N.a,"/bid"),r);case 5:l=a.sent,l.data.status&&G((function(e){return!e})),a.next=11;break;case 10:k.b.error("You don't have enought Points");case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){T.emit("joinRoom",{roomId:c,playerId:t}),T.on("gameState",(function(a){var n=a.bid,r=a.bidWinner,c=a.move;"DRAW"===n.status?(G((function(e){return!0})),k.b.dark("It's a Draw")):"DONE"===n.status&&null===r&&null===c?k.b.dark("Bids are equal"):"DONE"===n.status&&r===t&&c===t?(e.current.value="",g(!0),k.b.dark("Your Turn")):"DONE"===n.status&&r!==t&&c!==t&&(e.current.value="",k.b.dark("You Lost the Bid")),0===n[t]&&"DONE"===n.status&&G((function(e){return!e})),P(a[t])})),T.on("Char",(function(e){""===J&&U(e)})),T.on("Reload",(function(e){var a=e.bid,n=e.bidWinner,r=e.move;"DONE"===a.status&&n===t&&r===t&&(g(!0),k.b.dark("Your Turn")),0!==a[t]&&(G((function(e){return!e})),C(a[t])),p(e.board),P(e[t])}))}),[]),Object(n.useEffect)((function(){T.on("Move",(function(e){var a=Object(d.a)(s),n=e.game,r=e.bidWinner;if(!D&&!a[n]){var c="X"===J?"O":"X";a[n]=r===t?J:c,p(a)}}))}),[J,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement(k.a,null),r.a.createElement("div",{className:"Game"},r.a.createElement("div",{className:"Game-Center"},r.a.createElement(h,{squares:s,onClick:M}),r.a.createElement("p",{className:"font"},"Points left: "+W)),r.a.createElement("div",{style:S,className:"game-state"},r.a.createElement(w.a,{className:"mb-3 input"},r.a.createElement(w.a.Prepend,null,r.a.createElement(w.a.Text,{id:"basic-addon1"},"$")),r.a.createElement(j.a,{ref:e,placeholder:"Bid","aria-label":"Bid","aria-describedby":"basic-addon1"})),r.a.createElement(x.a,{className:"button",onClick:$,disabled:F},"Bid"),r.a.createElement("p",{className:"font"},F&&"Waiting for Other Player to Bid"),r.a.createElement("p",{className:"font"},D&&"Winner: "+D)))))},C=(t(139),t(140),t(145)),I=t(146);var R=function(){var e=Object(n.useRef)();function a(){return(a=Object(m.a)(u.a.mark((function a(){var t,n,r,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.current.value,a.next=3,O.a.post(N.a);case 3:n=a.sent,r=n.data,c="/room/".concat(r.room,"/").concat(t),console.log(c),window.location.href=c;case 8:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement(C.a,{collapseOnSelect:!0,className:"nav-color",expand:"lg",variant:"dark"},r.a.createElement(C.a.Brand,null,"Tic-Tac-Toe")),r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"rules"},r.a.createElement(I.a,{className:"card"},r.a.createElement(I.a.Title,{className:"card-title"},"Rules"),r.a.createElement(I.a.Body,{className:"card-body"},r.a.createElement("ul",null,r.a.createElement("li",null,"Unlike Regular Tic Tac Toe 'X' doesnt always start first."),r.a.createElement("li",null,"Each player begins with 100 points. Players can use these points to place bids"),r.a.createElement("li",null,"Turns are decided by the bids placed by the players. The Player with bigger bid wins round and can freely place his/her move"),r.a.createElement("li",null,"If both players reach 0 points before winning then the game is considered a draw"),r.a.createElement("li",null,"If both players bid the same points then its considered draw and they have to bid again"))))),r.a.createElement("div",{className:"start-game"},r.a.createElement("p",{className:"font"},"To Start Enter Your Name"),r.a.createElement(w.a,{className:"mb-3 input"},r.a.createElement(w.a.Prepend,null,r.a.createElement(w.a.Text,{id:"basic-addon1"},"@")),r.a.createElement(j.a,{ref:e,placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1"})),r.a.createElement(x.a,{className:"button",onClick:function(){return function(){return a.apply(this,arguments)}()}},"Start")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(R,null)),r.a.createElement(i.a,{path:"/room"},r.a.createElement(B,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e){e.exports=JSON.parse('{"a":"http://159.65.145.166:8000"}')},75:function(e,a,t){e.exports=t(141)},80:function(e,a,t){},82:function(e,a,t){}},[[75,1,2]]]);
//# sourceMappingURL=main.4013cf58.chunk.js.map