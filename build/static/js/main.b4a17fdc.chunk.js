(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),u=(n(67),n(31)),i=n(1),l=n(11),s=n.n(l),m=n(34),d=n(17),f=n(7),p=(n(69),{background:"lightblue",border:"2px solid darkblue",fontSize:"30px",fontWeight:"800",cursor:"pointer",outline:"none"}),b=function(e){var t=e.onClick,n=e.value;return r.a.createElement("button",{style:p,onClick:t},n)},v={border:"4px solid darkblue",borderRadius:"10px",width:"250px",height:"250px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)"},h=function(e){var t=e.squares,n=e.onClick;return r.a.createElement("div",{style:v},t.map((function(e,t){return r.a.createElement(b,{key:t,value:e,onClick:function(){return n(t)}})})))};var E=n(60),O=n.n(E),k=n(18),g=n.n(k),j=n(12),x=(n(118),n(15)),w=O()(x.a),y={margin:"20px auto",width:"220px"};var C=function(){var e=Object(i.f)().pathname.split("/"),t=e.pop(),n=e.pop(),o=Object(a.useState)(Array(9).fill(null)),c=Object(f.a)(o,2),u=c[0],l=c[1],p=Object(a.useState)(!1),b=Object(f.a)(p,2),v=b[0],E=b[1],O=Object(a.useState)(),k=Object(f.a)(O,2),C=k[0],S=k[1],N=Object(a.useState)(100),W=Object(f.a)(N,2),I=W[0],D=W[1],B=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],n=0;n<t.length;n++){var a=Object(f.a)(t[n],3),r=a[0],o=a[1],c=a[2];if(e[r]&&e[r]===e[o]&&e[r]===e[c])return e[r]}return null}(u),R=Object(a.useState)(""),P=Object(f.a)(R,2),T=P[0],Y=P[1],q=Object(a.useState)(!1),J=Object(f.a)(q,2),A=J[0],F=J[1],G=function(){var e=Object(d.a)(s.a.mark((function e(a){var r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(m.a)(u),!B&&!r[a]){e.next=3;break}return e.abrupt("return");case 3:if(!v){e.next=11;break}return r[a]=T,o={roomId:n,playerId:t,value:a,board:r},e.next=8,g.a.post("".concat(x.a,"/symbolPlaced"),o);case 8:c=e.sent,c.data.status&&E(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={roomId:n,playerId:t,value:Number(C),board:u},!(I>=Number(C))){e.next=9;break}return e.next=4,g.a.post("".concat(x.a,"/bid"),a);case 4:r=e.sent,r.data.status&&F((function(e){return!e})),e.next=10;break;case 9:j.b.error("You don't have enought Points");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){w.emit("joinRoom",{roomId:n,playerId:t}),w.on("gameState",(function(e){var n=e.bid,a=e.bidWinner,r=e.move;"DRAW"===n.status?(F((function(e){return!0})),j.b.dark("It's a Draw")):"DONE"===n.status&&null===a&&null===r?j.b.dark("Bids are equal"):"DONE"===n.status&&a===t&&r===t?(E(!0),j.b.dark("Your Turn")):"DONE"===n.status&&a!==t&&r!==t&&j.b.dark("You Lost the Bid"),0===n[t]&&"DONE"===n.status&&F((function(e){return!e})),D(e[t])})),w.on("Char",(function(e){""===T&&Y(e)})),w.on("Reload",(function(e){var n=e.bid,a=e.bidWinner,r=e.move;"DONE"===n.status&&a===t&&r===t&&(E(!0),j.b.dark("Your Turn")),0!==n[t]&&(F((function(e){return!e})),S(n[t])),l(e.board),D(e[t])}))}),[]),Object(a.useEffect)((function(){w.on("Move",(function(e){var n=Object(m.a)(u),a=e.game,r=e.bidWinner;if(!B&&!n[a]){var o="X"===T?"O":"X";n[a]=r===t?T:o,l(n)}}))}),[T,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null),r.a.createElement("div",{className:"Game-Center"},r.a.createElement(h,{squares:u,onClick:G}),r.a.createElement("div",{style:y},r.a.createElement("p",null,"Points left: "+I),r.a.createElement("input",{type:"text",value:C,onChange:function(e){return S(e.target.value)}}),r.a.createElement("button",{onClick:M,disabled:A},"Bid"),r.a.createElement("p",null,A&&"Waiting for Other Player to Bid"),r.a.createElement("p",null,B&&"Winner: "+B))))};n(123);var S=function(){var e=Object(a.useState)(""),t=Object(f.a)(e,2),n=t[0],o=t[1];function c(){return(c=Object(d.a)(s.a.mark((function e(){var t,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post(x.a);case 2:t=e.sent,a=t.data,r="/room/".concat(a.room,"/").concat(n),console.log(r),window.location.href=r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Home"},r.a.createElement("h1",null,"Welcome to my Game"),r.a.createElement("input",{type:"text",value:n,onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{onClick:function(){return function(){return c.apply(this,arguments)}()}},"Start")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(S,null)),r.a.createElement(i.a,{path:"/room"},r.a.createElement(C,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},15:function(e){e.exports=JSON.parse('{"a":"http://159.65.145.166:8000"}')},62:function(e,t,n){e.exports=n(124)},67:function(e,t,n){},69:function(e,t,n){},99:function(e,t){}},[[62,1,2]]]);
//# sourceMappingURL=main.b4a17fdc.chunk.js.map