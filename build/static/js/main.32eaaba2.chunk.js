(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{115:function(e,t){},139:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=(a(81),a(23)),s=a(5),i=(a(82),a(6)),u=a.n(i),d=a(26),m=a(12),f=a(9),p=(a(84),{background:"lightblue",border:"2px solid darkblue",fontSize:"30px",fontWeight:"800",cursor:"pointer",outline:"none"}),b=function(e){var t=e.onClick,a=e.value;return r.a.createElement("button",{style:p,onClick:t},a)},h={border:"4px solid darkblue",borderRadius:"10px",width:"250px",height:"250px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)"},v=function(e){var t=e.squares,a=e.onClick;return r.a.createElement("div",{style:h},t.map((function(e,t){return r.a.createElement(b,{key:t,value:e,onClick:function(){return a(t)}})})))};var y=a(14),E=(a(85),a(148)),g=a(154),j=a(155),x=a(30),w=a.n(x),N=a(16),O=w()(N.a);var k=a(20),I=a.n(k);function T(e){return B.apply(this,arguments)}function B(){return(B=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,e.next=3,I.a.post("".concat(N.a,"/bid"),a);case 3:return n=e.sent,r=n.data,e.abrupt("return",{data:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,e.next=3,I.a.post("".concat(N.a,"/symbolPlaced"),a);case 3:return n=e.sent,r=n.data,e.abrupt("return",{data:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e){var t=e.playerId,a=e.roomId,c=Object(n.useRef)(),l=Object(n.useState)(Array(9).fill(null)),o=Object(f.a)(l,2),s=o[0],i=o[1],p=Object(n.useState)(!1),b=Object(f.a)(p,2),h=b[0],x=b[1],w=Object(n.useState)(100),N=Object(f.a)(w,2),k=N[0],I=N[1],B=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<t.length;a++){var n=Object(f.a)(t[a],3),r=n[0],c=n[1],l=n[2];if(e[r]&&e[r]===e[c]&&e[r]===e[l])return e[r]}return null}(s),S=Object(n.useState)(""),P=Object(f.a)(S,2),M=P[0],R=P[1],W=Object(n.useState)(!1),D=Object(f.a)(W,2),A=D[0],F=D[1],J=function(){F((function(e){return!e}))},L=function(){F((function(e){return!0}))},Y=function(){x((function(e){return!0}))},q=function(e){I(e)},U=function(e){i(e)},X=function(){var e=Object(m.a)(u.a.mark((function e(n){var r,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(d.a)(s),!B&&!r[n]){e.next=3;break}return e.abrupt("return");case 3:if(!h){e.next=11;break}return r[n]=M,c={roomId:a,playerId:t,value:n,board:r},e.next=8,C({payload:c});case 8:l=e.sent,l.data.status&&x((function(e){return!1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(m.a)(u.a.mark((function e(){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.current.value,r={roomId:a,playerId:t,value:Number(n),board:s},!(k>=Number(n))){e.next=10;break}return e.next=5,T({payload:r});case 5:l=e.sent,l.data.status&&J(),e.next=11;break;case 10:y.c.error("You don't have enought Points");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c.current.addEventListener("keydown",(function(e){13===e.keyCode&&$()})),function(e){var t=e.roomId,a=e.playerId;O.emit("joinRoom",{roomId:t,playerId:a})}({roomId:a,playerId:t}),function(e){var t=e.textInput,a=e.playerId,n=e.disableBid,r=e.toggleBid,c=e.enableTurn,l=e.changePts;O.on("gameState",(function(e){var o=e.bid,s=e.bidWinner,i=e.move;"DRAW"===o.status?(n(),y.c.dark("It's a Draw")):"DONE"===o.status&&null===s&&null===i?y.c.dark("Bids are equal"):"DONE"===o.status&&s===a&&i===a?(t.current.value="",c(),y.c.dark("Your Turn")):"DONE"===o.status&&s!==a&&i!==a&&(t.current.value="",y.c.dark("You Lost the Bid")),0===o[a]&&"DONE"===o.status&&r(),l(e[a])}))}({textInput:c,playerId:t,disableBid:L,toggleBid:J,enableTurn:Y,changePts:q}),function(e){var t=e.myChar,a=e.setChar;O.on("Char",(function(e){""===t&&a(e)}))}({myChar:M,setChar:R}),function(e){var t=e.playerId,a=e.enableTurn,n=e.toggleBid,r=e.changeBoard,c=e.changePts,l=e.textInput;O.on("Reload",(function(e){var o=e.bid,s=e.bidWinner,i=e.move;"DONE"===o.status&&s===t&&i===t&&(a(),y.c.dark("Your Turn")),0!==o[t]&&(n(),l.current.value=o[t]),Array.isArray(e.board)&&e.board.length&&r(e.board),c(e[t])}))}({playerId:t,enableTurn:Y,toggleBid:J,changeBoard:U,changePts:q,textInput:c})}),[]),Object(n.useEffect)((function(){!function(e){var t=e.winner,a=e.playerId,n=e.board,r=e.myChar,c=e.changeBoard;O.on("Move",(function(e){var l=Object(d.a)(n),o=e.game,s=e.bidWinner;if(!t&&!l[o]){var i="X"===r?"O":"X";l[o]=s===a?r:i,c(l)}}))}({winner:B,playerId:t,board:s,myChar:M,changeBoard:U})}),[M,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{squares:s,onClick:X}),r.a.createElement("div",{className:"font d-flex  justify-content-center p-4"},"Points left: "+k),r.a.createElement("div",{className:"d-flex  justify-content-center p-4"},r.a.createElement(E.a,{className:"mb-3 input"},r.a.createElement(E.a.Prepend,null,r.a.createElement(E.a.Text,{id:"basic-addon1"},"$")),r.a.createElement(g.a,{ref:c,placeholder:"Bid","aria-label":"Bid","aria-describedby":"basic-addon1"}))),r.a.createElement("div",{className:"d-flex  justify-content-center p-4"},r.a.createElement(j.a,{className:"button ",onClick:$,disabled:A},"Bid")),r.a.createElement("div",{className:"font"},A&&"Waiting for Other Player to Bid"),r.a.createElement("div",{className:"font"},B&&"Winner: "+B))};a(139);var M=function(){var e=Object(s.f)().pathname.split("/"),t=e.pop(),a=e.pop(),c=Object(n.useRef)(),l=Object(n.useState)([]),o=Object(f.a)(l,2),i=o[0],u=o[1],m=function(){!function(e){var t=e.Msg,a=e.roomId;O.emit("sendMsg",{Msg:t,roomId:a})}({Msg:"".concat(t,": ").concat(c.current.value),roomId:a}),c.current.value=""};return Object(n.useEffect)((function(){c.current.addEventListener("keydown",(function(e){13===e.keyCode&&m()})),function(e){var t=e.setMsgs;O.on("recieveMsg",(function(e){var a=e.system,n=e.Msg;t((function(e){return[].concat(Object(d.a)(e),[{system:a,Msg:n}])}))}))}({setMsgs:u})}),[]),r.a.createElement("ul",{className:"pages"},r.a.createElement("li",{className:"chat page"},r.a.createElement("div",{className:"chatArea"},r.a.createElement("ul",{className:"messages"},i.map((function(e,t){var a=e.system,n=e.Msg;return a?r.a.createElement("li",{className:"system-msg",key:t},n):r.a.createElement("li",{key:t},n)})))),r.a.createElement("input",{ref:c,className:"inputMessage",placeholder:"Type here..."})))},R=a(149),W=a(150);var D=function(){var e=Object(s.f)().pathname.split("/"),t=e.pop(),a=e.pop();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement(y.a,{autoClose:5e3,transition:y.b,limit:3,newestOnTop:!0}),r.a.createElement(R.a,{style:{minHeight:"100vh"},className:"fill-width "},r.a.createElement(W.a,{className:"d-flex flex-column justify-content-center align-items-center "},r.a.createElement(P,{playerId:t,roomId:a})),r.a.createElement(W.a,{className:"fill-width chat-room chat-visible"},r.a.createElement(M,{playerId:t,roomId:a})))))},A=(a(142),a(143),a(151)),F=a(152),J=a(153);var L=function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post(N.a);case 2:t=e.sent,a=t.data,n="/waitingroom/".concat(a.room),console.log(n),window.location.href=n;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-container"},r.a.createElement(A.a,{fluid:!0},r.a.createElement(F.a,{className:"nav-color",expand:"lg",variant:"dark"},r.a.createElement(F.a.Brand,null,"Tic-Tac-Toe")),r.a.createElement(W.a,{md:{span:6,offset:3},className:"d-flex flex-column justify-content-around fill "},r.a.createElement("div",{className:"p-2"},r.a.createElement(J.a,{className:"card"},r.a.createElement(J.a.Title,{className:"card-title"},"Rules"),r.a.createElement(J.a.Body,{className:"text-justify"},r.a.createElement("ul",null,r.a.createElement("li",null,"Unlike Regular Tic Tac Toe 'X' doesnt always start first."),r.a.createElement("li",null,"Each player begins with 100 points. Players can use these points to place bids"),r.a.createElement("li",null,"Turns are decided by the bids placed by the players. The Player with bigger bid wins round and can freely place his/her move"),r.a.createElement("li",null,"If both players reach 0 points before winning then the game is considered a draw"),r.a.createElement("li",null,"If both players bid the same points then its considered draw and they have to bid again"))))),r.a.createElement("div",{className:" d-flex  justify-content-center p-2 "},r.a.createElement(j.a,{className:"button",onClick:function(){return function(){return e.apply(this,arguments)}()}},"Start"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(144);var Y=a(73),q=a.n(Y),U=w()(N.a);var X=function(){var e=Object(n.useRef)(),t=Object(n.useState)([]),a=Object(f.a)(t,2),c=a[0],l=a[1],o=Object(s.f)().pathname.split("/").pop(),i=Object(n.useState)(!1),d=Object(f.a)(i,2),p=d[0],b=d[1],h=Object(n.useState)(!0),v=Object(f.a)(h,2),y=v[0],x=v[1];function w(){return O.apply(this,arguments)}function O(){return(O=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.current.value,n={roomId:o,playerId:a},U.emit("joinRoom",n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.current.value,n="/room/".concat(o,"/").concat(a),console.log(n),window.location.href=n;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={roomId:o},e.next=3,I.a.post("".concat(N.a,"/getPlayers"),t);case 3:a=e.sent,n=a.data,l((function(e){return n})),2===n.length&&(x((function(e){return!e})),b((function(e){return!e})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.current.addEventListener("keydown",(function(e){13===e.keyCode&&w()})),U.on("joined",(function(e){l(e),2===e.length&&(x((function(e){return!e})),b((function(e){return!e})))})),function(){t.apply(this,arguments)}()}),[]);var T=function(e){var t=e.username;return r.a.createElement(J.a,{className:"player-card"},r.a.createElement(J.a.Img,{variant:"top",src:q.a}),r.a.createElement(J.a.Body,null,r.a.createElement(J.a.Title,null,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement(R.a,{className:"fill-width"},r.a.createElement(W.a,{md:6,className:"d-flex flex-column justify-content-between fill-height"},0===c.length&&r.a.createElement("div",{className:"font text-center"},"Waiting for players to join:"," "),c.length>0&&r.a.createElement("div",{className:"font text-center"},"Players in the Game : "),r.a.createElement(R.a,{className:" d-flex  justify-content-center p-4 "},c.map((function(e,t){return r.a.createElement(W.a,{md:5,xs:6,className:"p-2"},r.a.createElement(T,{key:t,username:e.playerId}))})))),r.a.createElement(W.a,{className:"p-4 d-flex flex-column justify-content-center",md:6},r.a.createElement("div",{className:"d-flex  justify-content-center p-4"},r.a.createElement(E.a,{className:" input"},r.a.createElement(E.a.Prepend,null,r.a.createElement(E.a.Text,{id:"basic-addon1"},"@")),r.a.createElement(g.a,{ref:e,placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1"}))),r.a.createElement(R.a,null,p?r.a.createElement(W.a,{className:" d-flex  justify-content-center p-4 "},r.a.createElement(j.a,{className:"button",onClick:function(){return function(){return k.apply(this,arguments)}()},disabled:y},"Start")):r.a.createElement(W.a,{className:" d-flex  justify-content-center p-4 "},r.a.createElement(j.a,{className:"button",onClick:function(){return w()},disabled:p},"Join")))))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(L,null)),r.a.createElement(s.a,{path:"/room"},r.a.createElement(D,null)),r.a.createElement(s.a,{path:"/waitingroom"},r.a.createElement(X,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},16:function(e){e.exports=JSON.parse('{"a":"http://159.65.145.166:8000"}')},73:function(e,t,a){e.exports=a.p+"static/media/avatar.3f28b642.png"},76:function(e,t,a){e.exports=a(145)},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.32eaaba2.chunk.js.map