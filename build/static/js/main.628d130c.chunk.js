(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{123:function(e,t){},146:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),s=(a(89),a(35)),l=a(8),i=(a(90),a(5)),u=a.n(i),d=a(19),m=a(10),f=a(13),p=(a(92),{background:"lightblue",border:"2px solid darkblue",fontSize:"30px",fontWeight:"800",cursor:"pointer",outline:"none"}),b=function(e){var t=e.onClick,a=e.value;return r.a.createElement("button",{style:p,onClick:t},a)},h={border:"4px solid darkblue",borderRadius:"10px",width:"250px",height:"250px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)"},y=function(e){var t=e.squares,a=e.onClick;return r.a.createElement("div",{style:h},t.map((function(e,t){return r.a.createElement(b,{key:t,value:e,onClick:function(){return a(t)}})})))};var v=a(11),E=(a(93),a(162)),g=a(168),w=a(169),j=a(37),x=a.n(j),O=a(18),k=x()(O.a);var N=a(24),I=a.n(N);function B(e){return C.apply(this,arguments)}function C(){return(C=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,e.next=3,I.a.post("".concat(O.a,"/bid"),a);case 3:return n=e.sent,r=n.data,e.abrupt("return",{data:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,e.next=3,I.a.post("".concat(O.a,"/symbolPlaced"),a);case 3:return n=e.sent,r=n.data,e.abrupt("return",{data:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,e.next=3,I.a.post("".concat(O.a,"/getPlayers"),a);case 3:return n=e.sent,r=n.data,c=r.players,e.abrupt("return",{players:c});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return D.apply(this,arguments)}function D(){return(D=Object(m.a)(u.a.mark((function e(t){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.payload,e.next=3,I.a.post("".concat(O.a,"/reset"),a);case 3:return n=e.sent,r=n.data,e.abrupt("return",{data:r});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return A.apply(this,arguments)}function A(){return(A=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(O.a,"/"));case 2:return t=e.sent,a=t.data,e.abrupt("return",{data:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return Y.apply(this,arguments)}function Y(){return(Y=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(O.a,"/joinRoom"));case 2:return t=e.sent,a=t.data,e.abrupt("return",{data:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e){var t=e.playerId,a=e.roomId,c=Object(n.useRef)(),o=Object(n.useState)(Array(9).fill(null)),s=Object(f.a)(o,2),l=s[0],i=s[1],p=Object(n.useState)(!1),b=Object(f.a)(p,2),h=b[0],j=b[1],x=Object(n.useState)(100),O=Object(f.a)(x,2),N=O[0],I=O[1],C=function(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<t.length;a++){var n=Object(f.a)(t[a],3),r=n[0],c=n[1],o=n[2];if(e[r]&&e[r]===e[c]&&e[r]===e[o])return e[r]}return null}(l),P=Object(n.useState)(""),M=Object(f.a)(P,2),D=M[0],W=M[1],A=Object(n.useState)(!1),J=Object(f.a)(A,2),Y=J[0],L=J[1],F=Object(n.useState)([]),U=Object(f.a)(F,2),q=U[0],$=U[1],z=Object(n.useState)(!1),G=Object(f.a)(z,2),H=G[0],V=G[1],X=function(){L((function(e){return!e}))},K=function(){L((function(e){return!0}))},Q=function(){L((function(e){return!1}))},Z=function(){j((function(e){return!0}))},_=function(e){I(e)},ee=function(e){i(e)},te=function(){var e=Object(m.a)(u.a.mark((function e(n){var r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(d.a)(l),!C&&!r[n]){e.next=3;break}return e.abrupt("return");case 3:if(!h){e.next=11;break}return r[n]=D,c={roomId:a,playerId:t,value:n,board:r},e.next=8,R({payload:c});case 8:o=e.sent,o.data.status&&j((function(e){return!1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={roomId:a},e.next=3,S({payload:t});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(m.a)(u.a.mark((function e(){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.current.value,r={roomId:a,playerId:t,value:Number(n),board:l},!(N>=Number(n))){e.next=10;break}return e.next=5,B({payload:r});case 5:o=e.sent,o.data.status&&X(),e.next=11;break;case 10:v.c.error("You don't have enought Points");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c.current.addEventListener("keydown",(function(e){13===e.keyCode&&ne()})),function(e){var t=e.roomId,a=e.playerId;k.emit("joinRoom",{roomId:t,playerId:a})}({roomId:a,playerId:t}),function(e){var t=e.textInput,a=e.playerId,n=e.disableBid,r=e.toggleBid,c=e.enableTurn,o=(e.enableBid,e.changePts),s=e.setDraw;e.changeBoard,k.on("gameState",(function(e){var l=e.bid,i=e.bidWinner,u=e.move;"DRAW"===l.status?(n(),s((function(e){return!0})),v.c.dark("It's a Draw")):"DONE"===l.status&&null===i&&null===u?v.c.dark("Bids are equal"):"DONE"===l.status&&i===a&&u===a?(t.current.value="",c(),v.c.dark("You won the bid, make your move")):"DONE"===l.status&&i!==a&&u!==a&&(t.current.value="",v.c.dark("You Lost the Bid")),0===l[a]&&"DONE"===l.status&&r(),o(e[a])}))}({textInput:c,playerId:t,disableBid:K,toggleBid:X,enableBid:Q,enableTurn:Z,changePts:_,setDraw:V}),function(e){var t=e.playerId,a=e.changeBoard,n=e.changePts,r=e.enableBid,c=e.setDraw;k.on("reset",(function(e){a(Object(d.a)(e.board)),n(e[t]),r(),c((function(e){return!1}))}))}({playerId:t,changeBoard:ee,changePts:_,setDraw:V,enableBid:Q}),function(e){var t=e.myChar,a=e.setChar;k.on("Char",(function(e){""===t&&a(e)}))}({myChar:D,setChar:W}),function(e){var t=e.playerId,a=e.enableTurn,n=e.toggleBid,r=e.changeBoard,c=e.changePts,o=e.textInput;k.on("Reload",(function(e){var s=e.bid,l=e.bidWinner,i=e.move;"DONE"===s.status&&l===t&&i===t&&(a(),v.c.dark("You won the bid, make your move")),0!==s[t]&&(n(),o.current.value=s[t]),Array.isArray(e.board)&&e.board.length&&r(e.board),c(e[t])}))}({playerId:t,enableTurn:Z,toggleBid:X,changeBoard:ee,changePts:_,textInput:c}),k.on("disconnect",(function(){v.c.error("You have been disconnected, Reload the page")})),function(){var e=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={roomId:a},e.next=3,T({payload:t});case 3:n=e.sent,$((function(e){return Object(d.a)(n.players)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){!function(e){var t=e.winner,a=(e.playerId,e.board),n=(e.myChar,e.changeBoard);k.on("Move",(function(e){var r=Object(d.a)(a),c=e.game;t||r[c]||n(Object(d.a)(e.board))}))}({winner:C,playerId:t,board:l,myChar:D,changeBoard:ee})}),[D,l]),Object(n.useEffect)((function(){console.log(H)}),[H]),r.a.createElement(r.a.Fragment,null,h&&r.a.createElement("div",{className:"font d-flex  justify-content-center p-4"},"Place your Move"),r.a.createElement(y,{squares:l,onClick:te}),r.a.createElement("div",{className:"font d-flex  justify-content-center p-4"},"Points left: "+N),r.a.createElement("div",{className:"d-flex  justify-content-center p-4"},r.a.createElement(E.a,{className:"mb-3 input"},r.a.createElement(E.a.Prepend,null,r.a.createElement(E.a.Text,{id:"basic-addon1"},"$")),r.a.createElement(g.a,{ref:c,type:"number",placeholder:"Bid","aria-label":"Bid","aria-describedby":"basic-addon1"}))),r.a.createElement("div",{className:"d-flex  justify-content-center p-4"},r.a.createElement(w.a,{className:"button ",onClick:ne,disabled:Y||h||H||C},"Bid")),r.a.createElement("div",{className:"font"},Y&&!H&&"Waiting for Other Player to Bid"),r.a.createElement("div",{className:"font"},C&&"Winner: "+(C===q[0].Character?q[0].playerId:q[1].playerId),(H||C)&&r.a.createElement("div",{className:"d-flex  justify-content-center p-4"},r.a.createElement(w.a,{className:"button ",onClick:ae},"Reset"))))},F=(a(146),a(158),a(78));var U=function(e){var t=e.playerId,a=e.roomId,c=Object(n.useRef)(),o=Object(n.useRef)(null),s=Object(n.useState)([]),l=Object(f.a)(s,2),i=l[0],u=l[1],m=function(){var e=c.current.value;!function(e){var t=e.playerId,a=e.Msg,n=e.roomId;k.emit("sendMsg",{playerId:t,Msg:a,roomId:n})}({playerId:t,Msg:e,roomId:a}),c.current.value=""};return Object(n.useEffect)((function(){c.current.addEventListener("keydown",(function(e){13===e.keyCode&&m()})),function(e){var t=e.playerId,a=e.setMsgs,n=e.isMobile;k.on("recieveMsg",(function(e){var r=e.senderId,c=e.system,o=e.Msg,s=r===t?"You: ".concat(o):"".concat(r,": ").concat(o);a((function(e){return[].concat(Object(d.a)(e),[{system:c,Msg:s}])})),n&&c&&r!==t&&v.c.dark(o)}))}({playerId:t,setMsgs:u,isMobile:F.isMobile})}),[]),Object(n.useEffect)((function(){o.current.scrollIntoView({behavior:"smooth"})}),[i]),r.a.createElement("div",{className:"chat-room"},r.a.createElement("ol",{className:"pages"},r.a.createElement("li",{className:"chat page"},r.a.createElement("div",{className:"chatArea"},r.a.createElement("div",{className:"messages overflow-auto",style:{height:"90vh"}},i.map((function(e,t){var a=e.system,n=e.Msg;return a?r.a.createElement("li",{className:"system-msg",key:t},n):r.a.createElement("li",{key:t},n)})),r.a.createElement("div",{ref:o})),r.a.createElement("input",{ref:c,className:"inputMessage",placeholder:"Type here..."})))))},q=a(163),$=a(164),z=a(165);var G=function(){var e=Object(l.f)().pathname.split("/"),t=e.pop(),a=e.pop();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement(v.a,{autoClose:3e3,transition:v.b,limit:3,hideProgressBar:!0,newestOnTop:!0}),r.a.createElement(q.a,{fluid:!0},r.a.createElement($.a,{style:{minHeight:"100vh",minWidth:"100vw"}},r.a.createElement(z.a,{className:"d-flex flex-column justify-content-center align-items-center "},r.a.createElement(L,{playerId:t,roomId:a})),r.a.createElement(z.a,{className:"fill-width chat-room chat-visible"},r.a.createElement(U,{playerId:t,roomId:a}))))))},H=(a(155),a(156),a(166)),V=a(167);var X=function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,a=t.data,n="/waitingroom/".concat(a.room),console.log(n),window.location.href=n;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(m.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:if(t=e.sent,0!==(a=t.data).length||!Array.isArray(a)){e.next=7;break}return v.c.error("No Rooms Available, create new Room to play"),e.abrupt("return");case 7:n="/waitingroom/".concat(a[0].roomId),console.log(n),window.location.href=n;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{autoClose:5e3,transition:v.b,limit:3,newestOnTop:!0}),r.a.createElement("div",{className:"home-container"},r.a.createElement(q.a,{fluid:!0},r.a.createElement(H.a,{className:"nav-color",expand:"lg",variant:"dark"},r.a.createElement(H.a.Brand,null,"Big-Bad-Joe")),r.a.createElement(z.a,{md:{span:6,offset:3},className:"d-flex flex-column justify-content-around fill "},r.a.createElement("div",{className:"p-2"},r.a.createElement(V.a,{className:"card"},r.a.createElement(V.a.Title,{className:"card-title"},"Rules"),r.a.createElement(V.a.Body,{className:"text-justify"},r.a.createElement("ul",null,r.a.createElement("li",null,"Unlike Regular Tic Tac Toe 'X' doesnt always start first."),r.a.createElement("li",null,"Each player begins with 100 points. Players can use these points to place bids"),r.a.createElement("li",null,"Turns are decided by the bids placed by the players. The Player with bigger bid wins round and can freely place his/her move"),r.a.createElement("li",null,"If both players reach 0 points before winning then the game is considered a draw"),r.a.createElement("li",null,"If both players bid the same points then its considered draw and they have to bid again"))))),r.a.createElement($.a,{className:" d-flex  justify-content-center"},r.a.createElement("div",{className:" p-2 "},r.a.createElement(w.a,{className:"button",onClick:function(){return function(){return e.apply(this,arguments)}()}},"Create New Room")),r.a.createElement("div",{className:" p-2 "},r.a.createElement(w.a,{className:"button",onClick:function(){return function(){return t.apply(this,arguments)}()}},"Join Existing Room")))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(157);var K=a(81),Q=a.n(K),Z=x()(O.a);var _=function(){var e=Object(n.useRef)(),t=Object(n.useState)([]),a=Object(f.a)(t,2),c=a[0],o=a[1],s=Object(l.f)().pathname.split("/").pop(),i=Object(n.useState)(!1),p=Object(f.a)(i,2),b=p[0],h=p[1],y=Object(n.useState)(!0),v=Object(f.a)(y,2),j=v[0],x=v[1];function O(){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.current.value,n={roomId:s,playerId:a},Z.emit("joinRoom",n);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.current.value,n="/room/".concat(s,"/").concat(a),console.log(n),window.location.href=n;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={roomId:s},e.next=3,T({payload:t});case 3:a=e.sent,o((function(e){return Object(d.a)(a.players)})),2===a.length&&(x((function(e){return!e})),h((function(e){return!e})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.current.addEventListener("keydown",(function(e){13===e.keyCode&&O()})),Z.on("joined",(function(e){o(e),2===e.length&&(x((function(e){return!e})),h((function(e){return!e})))})),function(){t.apply(this,arguments)}()}),[]);var I=function(e){var t=e.username;return r.a.createElement(V.a,{className:"player-card"},r.a.createElement(V.a.Img,{variant:"top",src:Q.a}),r.a.createElement(V.a.Body,null,r.a.createElement(V.a.Title,null,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement(H.a,{className:"nav-color",expand:"lg",variant:"dark"},r.a.createElement(H.a.Brand,null,"Big-Bad-Joe")),r.a.createElement($.a,{className:"fill-width"},r.a.createElement(z.a,{md:6,className:"d-flex flex-column justify-content-between fill-height"},0===c.length&&r.a.createElement("div",{className:"font text-center"},"Waiting for players to join:"," "),c.length>0&&r.a.createElement("div",{className:"font text-center"},"Players in the Game : "),r.a.createElement($.a,{className:" d-flex  justify-content-center p-4 "},c.map((function(e,t){return r.a.createElement(z.a,{md:5,xs:6,className:"p-2"},r.a.createElement(I,{key:t,username:e.playerId}))})))),r.a.createElement(z.a,{className:"p-4 d-flex flex-column justify-content-center",md:6},r.a.createElement("div",{className:"d-flex  justify-content-center p-4"},r.a.createElement(E.a,{className:"input"},r.a.createElement(E.a.Prepend,null,r.a.createElement(E.a.Text,{id:"basic-addon1"},"@")),r.a.createElement(g.a,{ref:e,placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1"}))),r.a.createElement($.a,null,b?r.a.createElement(z.a,{className:" d-flex  justify-content-center p-4 "},r.a.createElement(w.a,{className:"button",onClick:function(){return function(){return N.apply(this,arguments)}()},disabled:j},"Start")):r.a.createElement(z.a,{className:" d-flex  justify-content-center p-4 "},r.a.createElement(w.a,{className:"button",onClick:function(){return O()},disabled:b},"Join"))))),r.a.createElement("div",{className:"footer p-2 "},"Share URL with your friends to play with")))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/"},r.a.createElement(X,null)),r.a.createElement(l.a,{path:"/room"},r.a.createElement(G,null)),r.a.createElement(l.a,{path:"/waitingroom"},r.a.createElement(_,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e){e.exports=JSON.parse('{"a":"https://bigbadjoe.chaitanyad.com"}')},81:function(e,t,a){e.exports=a.p+"static/media/avatar.3f28b642.png"},84:function(e,t,a){e.exports=a(159)},89:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.628d130c.chunk.js.map